a.width=a.height=960;var startingLength=150;var maxDepth=7;var minDepth=6;var depthChance=0.8;var minLeaves=2;var maxLeaves=4;var leafChance=0.4;var maxAngle=1.0;var shrinkFactor=0.72;b.addEventListener("click",function(e){var r=c.canvas.getBoundingClientRect();var b={x:e.clientX-r.left,y:e.clientY-r.top};c.clearRect(0,0,a.width,a.height);var d=[{x:b.x,y:b.y,depth:0,angle:Math.random()*(Math.PI/8)+Math.PI/16*15}];while(d.length>0){var f=d.pop();var g=f.x+Math.sin(f.angle)*startingLength*Math.pow(shrinkFactor,f.depth);var h=f.y+Math.cos(f.angle)*startingLength*Math.pow(shrinkFactor,f.depth);c.beginPath();c.moveTo(f.x,f.y);c.lineTo(g,h);c.stroke();if(f.depth<maxDepth&&(f.depth<minDepth||Math.random()>depthChance)){for(var i=0;i<maxLeaves;++i){if(i<minLeaves||Math.random()>leafChance){var j=Math.random()*(2*maxAngle)-maxAngle+f.angle;d.push({x:g,y:h,depth:f.depth+1,angle:j})}}}}});