a.width=a.height=640;var flagMode=0;var backgroundMode="black";function brightenColorTone(b,d){return("00"+Math.min(255,Math.max(0,Math.floor(parseInt(b,16)*(1+d/100)+d/10))).toString(16)).slice(-2)}function adjust(e,f){var g="#";for(var h=0;h<3;++h){g+=brightenColorTone(e.slice(h*2+1,h*2+3),f)}return g}colorSet=["#ff0000","#0055a4","#ffffff","#ef4135","#222222","#ffcc00"];function flagColor(i,j){var k=-1;switch(flagMode){case 0:if(i===8||i===9||j===5||j===6){k=0}else{k=2}break;case 1:if(i<6){k=1}else if(i<12){k=2}else{k=3}break;case 2:if(j<4){k=4}else if(j<8){k=0}else{k=5}break}return colorSet[k]}(function l(m){c.fillStyle=backgroundMode;c.fillRect(0,0,a.width,a.height*2/3);c.lineWidth=24;for(var n=0;n<12;++n){for(var o=0;o<18;++o){var p=flagColor(o,n);var q=Math.sin(o/3+m/300);var r=Math.sin(n/5+m/200);p=adjust(p,Math.floor((-q-r)*10));c.strokeStyle=p;c.beginPath();c.rect(o*35+24+q*5,n*35+24+r*3,0,0);c.stroke()}}requestAnimationFrame(l)})(0);document.body.onkeyup=function(s){if(s.keyCode==32){flagMode=(flagMode+1)%3}else if(s.keyCode==66){backgroundMode=backgroundMode==="black"?"white":"black"}};